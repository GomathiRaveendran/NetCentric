<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="style.css">
    
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.7/angular.js"></script>     
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.7/angular-route.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.7/angular-resource.js"></script>
    <title> ABC TOURISM </title>
</head>
<body ng-app="showProduct" ng-controller="showProductController" >
    <!-- HEADER -->
    <header id="header">
        <h2 class="header-content text-dark">ABC TRAVELS</h2>
    </header>


    <nav class="navbar navbar-expand-lg navbar-light navbar-custom mb-2">
      <a class="navbar-brand " href="index.html" style="font-family: fantasy;">ABC</a>
    
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
              <a class="nav-link" href="index.html">Home<span class="sr-only"></a>
            </li>
          <li class="nav-item">
            <a class="nav-link" href="modify.html">Tour Packages<span class="sr-only"></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="addpackage.html">Add Package (Managers)</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="indian.html">Domestic Tour Packages</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="international.html">International Tour Packages</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="book.html">Book A Trip</a>
            </li>
          
          <li class="nav-item">
              <a class="nav-link" href="feedback.html">Feedback</a>
            </li>

        </ul>

        <div class="my-2 my-lg-0">
          <ul class="navbar-nav mr-auto">
              <li class="nav-item">
                  <a class="nav-link" href="login.html">Login<span class="sr-only"></a>
                </li>    
                <li class="nav-item">
                  <a class="nav-link" href="signup.html">Sign Up<span class="sr-only"></a>
                </li>  
            </ul>
        </div>
      </div>
    </nav>

      <div class="container">
        
        <div class="row">
          
          <div class="col-12 bg-white ml-1 mr-1 p-3">
            <h2 class="header-content" style="border-bottom: solid ; border-color:rgba(0, 0, 0, 0.025);"> Our Popular Domestic Packages </h2>
        <div class="products">

            <div class="tab-content m-3" id="myTabContent">

              

                <table ng-controller="showProductController" class="table">
                    <tr>
                        <td>Title</td>
                        <td>Description</td>

                        <td>Location</td>   
                        <td>Price</td>
                        <td>Duration</td>
                        <td>Availability</td>
                    </tr>
                    <tr ng-repeat="x in records">
                        <td>{{x.title}}</td>
                        <td>{{x.description}}</td>
                        <td>{{x.location}}</td>
                        <td>{{x.price}}</td>
                        <td>{{x.duration}}</td>
                        <td>{{x.availability}}</td>
                        
                      
                    </tr>

                </table>


            
                </div>
            </div>
        </div>
    </div>
          
            
    </div>    




<!-- Footer -->
<footer class="text-center text-lg-start bg-white text-muted mt-5">

    <!-- Section: Links  -->
    <section class="p-4 border-bottom navbar-custom">
      <div class="container text-center text-md-start mt-3">
        <!-- Grid row -->
        <div class="row mt-3">
          <!-- Grid column -->
          <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-2">
            <!-- Content -->
            <h6 class="text-uppercase fw-bold mb-3">
              <i class="fas fa-gem me-3 text-grayish"></i>ABC TOURISM
            </h6>
            <p>
              Making tourism easier since 2022. 
              <br>
              Like, 2 days ago. From the hands of a stressed out college student.
            </p>
          </div>
          <!-- Grid column -->
  
          <!-- Grid column -->
          <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-2">
            <!-- Links -->
            <h6 class="text-uppercase fw-bold mb-2">
              Products
            </h6>
            <p>
              <a href="#!" class="text-reset">Indian</a>
            </p>
            <p>
              <a href="#!" class="text-reset">International</a>
            </p>
            <p>
              <a href="#!" class="text-reset">Cruise</a>
            </p>
            <p>
              <a href="#!" class="text-reset">Short Trips</a>
            </p>
          </div>
          
          <!-- Grid column -->
  
          <!-- Grid column -->
          <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-2">
            <!-- Links -->
            <h6 class="text-uppercase fw-bold mb-4">Contact</h6>
            <p>Ettimadai, TN 00000, INDIA</p>
            <p>
              info@example.com
            </p>
            <p> + 91 234 567 88</p>
            <p> + 91 234 567 89</p>
          </div>
          <!-- Grid column -->
        </div>
        <!-- Grid row -->
      </div>
    </section>
    <!-- Section: Links  -->
  
    <!-- Copyright -->
    <div class="text-center p-2" style="background-color: rgba(0, 0, 0, 0.025);">
      Â© 2021 Copyright:
      <a class="text-reset fw-bold" href="index.html">ABCTravels.com</a>
    </div>
    <!-- Copyright -->
  </footer>
  <!-- Footer -->

  <script> 

    var showProduct = angular.module("showProduct",[]);
    showProduct.config([
      "$httpProvider",
      function ($httpProvider){
        $httpProvider.defaults.useXDomain =  true;
        delete $httpProvider.defaults.headers.common["X-Requested-With"];
      },

    ]);

    showProduct.controller(
      "showProductController",
      function ($scope,$http,$templateCache){
        $scope.records 
        $scope.package = {
          title: "",
          oldtitle: "",
          titledelete: "",
          type: "all",
          toSend: {},
          

          listproducts: function () {
            var method = "POST";
            var inserturl = "http://localhost:1212/filterdata";
            var packageObj = $scope.package;
            packageObj.toSend = {
                type: 'domestic'
              };
            console.log(packageObj.toSend);
            var toSendString = JSON.stringify(packageObj.toSend);
              $http.post(inserturl, toSendString).then(function (response){
              console.log(response);    
              if (response.status == 200){
                console.log("success");
                $scope.records = response.data;

              } else {
                console.log("error");
                alert("Error while saving");
              }
            })
          }

      }
      $scope.package.listproducts();
    });

    
  </script>

</body>
</html>
